---
title: Problem set 1003
---

# 2021 Sep 20

It's been a while, huh?  It's actually been a while for this writeup, too.

[e0d5b2da0dc0c85672608980fb18fd7d3b1400b8](https://gitlab.com/elijah-team/elijah-lang/-/commit/e0d5b2da0dc0c85672608980fb18fd7d3b1400b8)

This problem set is just to mark progress.  We'll see what I got done.

1. `backlink3` is still being generated twice (by maven).  Once with `Emit`, and once without
2. So is `classInstantiation3`...

### wprust.demo.fact

#### main.c

1. `b1` has no declaration.
2. `a1` declaration is not resolved.
3. `vt1` has no declaration.
4. `a1.isInt` and `a1.to_int` are UNKNOWN.
5. `f1` has no declaration.

I didn't check, but it seems like there are regressions around declarations here.  Might be interesting to see.

#### fact1.c

6. `factorial_r` has no `self` argument.

#### Prelude.c

In `z102argument`:

7. `vt1` declaration is not resolved.
8. `__getitem__` is not resolved.

In `z103print`:

9. `String8` is UNKNKOWN
10. `C` and `c.puts` are UNKNOWN

Overall, I would say that no progress has been made.

### feb2021/property

#### Foo.c

1. property get and set functions are not generated

#### Foo.h

2. Unknown USER type in struct

#### Main.c and Main.h

3. Seems ok!

#### Pr.c

4. Proper constructor is not generated.  `t` should be 100, not 0.

#### Pr.h

5. Same Unknown USER type in struct

#### Prelude.c

6. Same old problems
7. Generating a `z104printable`.  This is an error and the function should be specialized for each type taht uses it.

### listfolders3

#### Main.c

1. `vt1` is not declared.
2. `ExitSuccess` is not a part of any class; this is a logic error.

The good:

1. `MainLogic` _is_ mangled.
2. `main` _is_ known.
3. `ExitCode` is part of `ns ''`.

#### MainLogic.c

1. `fun` has a placeholder function pointer type.  It does not represent what is in the source code.  It is also not initialized.
2. `folders` is unresolved, and reported as `Unknown` type.
3. `listFiles` is not recognized as part of any class, though its constructor is called and `fun` is passed in properly.
4. `vt1` declaration is not resolved.
5. `__neq__` is not inlined for comparison to `None`, which is not recognized as built in to the compiler.
6. `forEach` is recognized as a variable (it is a function), and is marked UNKNOWN.

#### __MODULE__.c

This is a new feature.

7. File name doesn't specify what module this is from. (There is no provision for this in the code.)
8. Function pointer (`fun`) maps to `Z108$2`.  I think the constructor is `$1` (in the compiler represenetation).  The argument type is `Unresolved` and there is no `self`, though I don't think there should be.
9. `f.isDirectory` is marked UNKNOWN.  (This is actually not an error, as it is not in the source code.)

#### Prelude.h

10. `vmNone` is in the namespace struct.  As stated above, this shuold be recognized as part of the compiler.
11. `vmExitCode` is marked as unknown user type.
12. `vmExitSuccess` is not specified at all.

Progress was made here.

### classInstantiation3

Of note, `bar` is declared and instantiated correctly.  It is also assigned correctly.  The same for `foo`.

1. `print` is not specialized, but this is to be expected.
2. `vti` (the loop iterator) is not declared properly.
3. `randInt` is not recognized as part of any class or namespace.
4. `__preinc__` is not recognized or inlined for that matter.  This (would) create an infinite loop.

### backlink3

Of note, `prelude` is not generated at all.

#### Foo.h

1. `x` member variable is declared as unknown.

#### Main.c

2. `printIt` is not recognized as part of any namespace or class.
3. `printIt` is not generated.

### classInstantiation

This seems solid, except for the print calls and the non-recognition of strings (on the C level and it's Elijah representation.)

### listfolders4

This has the same problems as listfolders3.  Of note, in neither is an initialization of the `__MODULE__` namespace.

### classInstantiation2

This seems solid, except for the print calls and the non-recognition of strings (on the C level and it's Elijah representation.)

Similar to `classInstantiation`.

## Missing

1. feb2021/hier and function
2. genericA
