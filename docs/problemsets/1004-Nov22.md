---
title: Problem set 1003c
---

# 2021 Sep 22

[379dc11eb5af06dfcff26bcb8c69aeb9c58905a4](https://gitlab.com/elijah-team/elijah-lang/-/commit/379dc11eb5af06dfcff26bcb8c69aeb9c58905a4)

After a long while away, I'm back at it.

## Changes:

Commented out due to failures. (I wanted all greens).

* TestGenFunction/testDemoElNormalFact1Elijah
* TestGenFunction/testGenericA
* TestBasic/testBasic_listfolders3
* TestBasic/testBasic_listfolders4
* Feb2021/testFunction
* Feb2021/testHier

## Regression

### classInstantiation2

1. `vvbar` is not declared properly, though `vvfoo` is...

## On to it

### classInstantiation2

#### Prelude.c

1. `vt1` is declared improperly, but is recognized as USER_CLASS `ConstString`.
2. `vt2` is not declared because String8 is UNKNOWN.
3. `C` and `C.puts` are UNKNOWN.
4. In `z104println`, `z104print` prints anything.  This would be fine if we had overloading, but we don't.

### classInstantiation

Same as problem set 1003.

### wprust.demo.fact

1. `vvf1` is not deduced properly, but it is declared.

#### Prelude.c

1. `vt1` is still not deduced properly in `z102argument`, although it is recognized by USER_CLASS.
2. `__getitem__` is still not recognized.
3. `String8` is UNKNOWN.
4. In `z104print`, `vt1` is recognized by USER_CLASS only.
5. `String8`, `C`, and `C.puts` are UNKNOWN.

### classInstantiation4

Seems to generate properly.

### classInstantiation3

1. `vvbar` regression.

Otherwise same as problem set 1003.

### backlink3

1. No `prelude` generated. Strange problem.
   
Same as problem set 1003.  Still produced twice.

### feb2021/property

#### Foo.h

1. member `vm_p` is no longer unknown user type, but goes by improper USER_CLASS.

Otherwise same as problem set 1003b.

## Solved problems:

1. Arguments generally are pointers now instead of by value.  This is appropriate for boxed values, which all arguments are now.
2. `vvb1` and `vva1` are properly deduced now in `wprust.demo.fact`/main.c.
3. `isInt` and `to_int` are recognized as part of a class, but the compiler just doesn't know which one.
4. More variables are declared, like `vvf1` in `wprust.demo.fact`.
